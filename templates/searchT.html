{% extends "base.html" %}

{% block content %}
<h1>Приветствую!</h1>
<div>Вот всё, что мы смогли найти по запросу "{{search}}"</div>
<h2>Объявления</h2>

<div class="card-group">
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for advrt in adverts %}
        <div class="col">
            <div class="card h-100" style="width: 21.9rem;">
            {% if adverts[0] == adverts[-1] %}
                {% if advrt.img_id != -1 %}
                <img src="/file/{{advrt.img_id}}">
                {% else %}
                <img src="https://img.freepik.com/premium-vector/photo-frame-icon-empty-photo-blank-vector-on-isolated-transparent-background-eps-10_399089-1290.jpg?w=826">
                {% endif %}
            {% else %}
                {% if advrt.img_id != -1 %}
                <img src="/file/{{advrt.img_id}}">
                {% else %}
                <img src="https://img.freepik.com/premium-vector/photo-frame-icon-empty-photo-blank-vector-on-isolated-transparent-background-eps-10_399089-1290.jpg?w=826">
                {% endif %}
            {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{advrt.name}}</h5>
                        <p class="card-text">Номер пользователя: {{advrt.id_person}}<br>
                            Описание: {{advrt.description[:100]}}
                            {% if advrt.description != advrt.description[:100] %}
                            ...
                            {% endif %}
                            <br>
                            Цена: {{advrt.price}}<br></p>
                        <div class="vstack gap-2 mx-auto">
                            <a class="btn btn-outline-primary" href="/files/{{advrt.id}}">Файлы</a>
                            <a class="btn btn-outline-primary" href="/advert/{{advrt.id}}">Описание</a>
                        </div>

                    </div>
                    <div class="card-footer">
                        <small class="text-body-secondary">Дата публикации: {{advrt.data}}</small>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endblock %}